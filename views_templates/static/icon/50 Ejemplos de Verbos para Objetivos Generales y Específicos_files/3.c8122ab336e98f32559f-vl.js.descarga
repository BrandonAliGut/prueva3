(window.avntsWebpackJsonp=window.avntsWebpackJsonp||[]).push([[3],{170:function(e,t,n){"use strict";n.r(t),function(e){n(15);var a=n(0),r=n(7),i=n(13),o=n(6),l=n(2),s=n(83),c=n(169),u=n(175),d=n(1),p=n(21),v=n(174),f=n(49),g=n(26),m=e("Gg0VDwgyFQgPCR4aFisXGgIeCQ=="),b=e("FhoDJAgkEhYLCA=="),h=e("Ex4aH1tFWwgPAhceIBgXGggIUUYNEQhWCA8CFx4IJg=="),y=!1,C=function(e,t){return"panel"!==e.config.logo.position?t+" .avnts-embedded-logo {top:0;}\n":t+" .avnts-in-panel-logo {\n    background-size:100%;\n    height: 24px;\n    width: 24px;\n    margin: auto;\n    cursor: pointer;\n    }\n"},w=function(e,t){var n=this,r=!1,i=e.state.player;return i?function(){return Object(a.b)(n,void 0,void 0,(function(){var n,c,u,d,p,v,f;return Object(a.d)(this,(function(a){switch(a.label){case 0:if(!(n=null===(f=i.video)||void 0===f?void 0:f.instance))return[2];a.label=1;case 1:return a.trys.push([1,10,,11]),"waitingForComplete"===e.state.status?[2,e.app.emit("generalEvent",{name:"playerComplete",data:{reason:"navigation"},index:e.index})]:l.s(e)?[2,e.app.emit("generalEvent",{name:"playerComplete",data:{reason:"impCap"},index:e.index})]:e.config.navigation.enable?(c=e.config.navigation,u=c.relocation,d=c.collapse,p=c.collapseFunc,function(e,t){l.p(e),t.pauseWaterfall(!0)}(e,n),[4,Object(o.c)(3e3)]):[3,7];case 2:return a.sent(),u?[4,s.i(e,n)]:[3,4];case 3:return a.sent(),[3,6];case 4:return d?l.e(e.state.selectedPlacement)?r?[2]:(r=!0,[4,l.g(p)]):[2,t(Error("locating error"))]:[3,6];case 5:a.sent(),r=!1,a.label=6;case 6:return function(e,t,n){var a,r,i=t.getPlayState(),o=i.content,s=i.ads;null===(a=e.state.floating)||void 0===a||a.on(!0),"none"===o&&"none"===s||(null===(r=t.nextContent)||void 0===r||r.call(t),t.play(),l.w(e,n)),t.resumeWaterfall()}(e,n,t),[3,9];case 7:return[4,Object(o.c)(3e3)];case 8:if(a.sent(),!l.e(e.state.selectedPlacement))return[2,t(Error("locating error"))];a.label=9;case 9:return[3,11];case 10:return"selector error"!==(null==(v=a.sent())?void 0:v.message)&&t(v),[3,11];case 11:return[2]}}))}))}:function(){return Object(a.b)(n,void 0,void 0,(function(){return Object(a.d)(this,(function(e){return[2]}))}))}},x=function(e,t,n,r,i){var o,p=!1,v=Object(u.c)(e,t),m=w(e,r),h=function(){};e.app.on("playerEvent",(function(t){var n=t.name,u=t.data,y=t.index;return Object(a.b)(void 0,void 0,void 0,(function(){var t,C,w,x,O,E,S,F,V,A,P,k,B,T,I,U,Q;return Object(a.d)(this,(function(a){switch(a.label){case 0:return"browserHistoryChanged"!==n||"completed"===e.state.status?[3,2]:[4,m()];case 1:a.sent(),a.label=2;case 2:if(e.index!==y||!e.state.player)return[2];switch(t=n,n){case"AdVideoComplete":return[3,3];case"AdImpression":return[3,8];case"firstQuartile":return[3,9];case"playerError":return[3,10];case"ContentClosed":return[3,11];case"AdSkipped":return[3,12];case"AdError":return[3,13];case"AdClosed":return[3,14];case"AdPlayPauseClicked":case"ContentPauseClicked":case"ContentPlayClicked":return[3,15];case"ContentVideoStart":return[3,16];case"ContentPlaying":return[3,17]}return[3,20];case 3:return s.h(e,h,o),v.setContentTitle(),null===(x=e.state.playerWrapper)||void 0===x||x.hideAdvertisingWrapper(),l.x(e,!1),null===(E=null===(O=e.state.player)||void 0===O?void 0:O.viewability)||void 0===E||E.on(),t="adCompleted",l.s(e)?(e.app.emit("generalEvent",{name:"playerComplete",data:{reason:"impCap"},index:e.index}),[3,7]):[3,4];case 4:return 2!==e.config.slooper.auctionLogic?[3,6]:[4,c.runNewAuctions(e)];case 5:a.sent(),a.label=6;case 6:i(),a.label=7;case 7:return[3,20];case 8:return null===(S=e.state.player.playAttemptHandler)||void 0===S||S.endTimer(),null==o||o.promiseResolver(),3===e.config.slooper.reset&&(e.state.player.loopData.loopsCounter=0),v.setAdTitle(),null===(F=e.state.playerWrapper)||void 0===F||F.showAdvertisingWrapper(),Object(g.d)(e,u.adSourceId),l.w(e,r,u.bidder),l.x(e,!0),null===(V=e.state.adServer.stackOptHandler)||void 0===V||V.takeSnapshot(),null===(A=e.state.adServer.stackOptHandler)||void 0===A||A.updateImpressionOccurred(),l.q(u.nurl),Object(f.c)(e,u.adSourceId,1),t="impression",function(e){var t,n,a=null===(n=null===(t=e.state.player)||void 0===t?void 0:t.video)||void 0===n?void 0:n.instance;e.state.player&&a&&(e.state.player._impressionCounter.page--,e.config.slooper.maxImps.enableSession&&Object(d.i)(""+b+e.index,--e.state.player._impressionCounter.session),e.state.player._impressionCounter.page&&!l.s(e)||(a.pauseWaterfall(!1),e.state.player._impressionCounter.page=e.config.slooper.maxImps.page))}(e),h=l.h(e,null===(P=e.state.player.video)||void 0===P?void 0:P.instance),(o=l.o(e)).startPromise("ads",u),[3,20];case 9:return 1===e.config.slooper.auctionLogic&&(C=.75*((null===(k=u.video)||void 0===k?void 0:k.duration)||0)*1e3,w=Math.max(0,C),c.runAdiAuctions(e,w)),[3,20];case 10:return r(Error(u.message)),null==o||o.promiseResolver(),[3,20];case 11:return null==o||o.promiseResolver(),t="contentClosed",e.app.emit("generalEvent",{name:"playerComplete",data:{reason:"contentClosed"},index:y}),[3,20];case 12:return s.h(e,h,o),v.setContentTitle(),null===(B=e.state.playerWrapper)||void 0===B||B.hideAdvertisingWrapper(),l.x(e,!1),null===(T=e.state.player.viewability)||void 0===T||T.on(),e.state.player.playPauseByUser={view:!1,partialView:!1},l.s(e)?e.app.emit("generalEvent",{name:"playerComplete",data:{reason:"impCap"},index:e.index}):i(),[3,20];case 13:return null===(I=e.state.player.playAttemptHandler)||void 0===I||I.endTimer(),s.f(e,u,h,i,o),[3,20];case 14:return null==o||o.promiseResolver(),v.setContentTitle(),h(),function(e){var t,n,a,r,i,o;l.x(e,!1);var s=null===(n=null===(t=e.state.player)||void 0===t?void 0:t.video)||void 0===n?void 0:n.instance;null===(a=e.state.playerWrapper)||void 0===a||a.hideAdvertisingWrapper();var c=e.state.player;c&&s&&(c.playPauseByUser={view:!1,partialView:!1},c.contentPlayOnView=!0,e.config.blockSession?(l.f(e),s.close(),j(e)):(e.config.navigation.enable&&!l.s(e)?s.pauseWaterfall(!0):(null===(i=(r=e.state.adServer).stopAuctionIntervals)||void 0===i||i.call(r),s.closeAd(),s.play()),c.aniviewPOVPauseBug=!0,null===(o=c.viewability)||void 0===o||o.on()))}(e),t="adClosed",[3,20];case 15:return l.z(e),[3,20];case 16:return p=!1,v.updateContentTitle(),[3,20];case 17:return null==o||o.promiseResolver(),p?[3,19]:[4,(o=l.o(e)).startPromise("content",u)];case 18:a.sent()&&(p=!0),a.label=19;case 19:return[3,20];case 20:return null===(Q=(U=e.state).callbacksHandler)||void 0===Q||Q.call(U,t,u),[2]}}))}))})),e.app.on("generalEvent",(function(t){var r=t.name,i=t.data,o=t.index;return Object(a.b)(void 0,void 0,void 0,(function(){return Object(a.d)(this,(function(t){if(e.index!==o)return[2];switch(r){case"playerLoaded":!function(e){var t,n;null===(n=(t=e.state).callbacksHandler)||void 0===n||n.call(t,"playerLoaded",{})}(e);break;case"playerComplete":!function(e,t,n){var a,r,i,o,l,s,c=e.config.hideOnComplete;c||0!==(null===(a=e.state.player)||void 0===a?void 0:a.totalImpressions)||(c=!0),"waitingForComplete"===e.state.status||"contentClosed"===t.reason||c?n(t):(e.state.status="waitingForComplete",null===(i=null===(r=e.state.player)||void 0===r?void 0:r.viewability)||void 0===i||i.off(),e.config.instream.pauseOnComplete&&(null===(s=null===(l=null===(o=e.state.player)||void 0===o?void 0:o.video)||void 0===l?void 0:l.instance)||void 0===s||s.pause()))}(e,i,n)}return[2]}))}))}))},O=function(e){if(e)return e.split("?")[0].split("/").pop()},j=function(e){var t,n,a,r,i=null===(n=null===(t=e.state.player)||void 0===t?void 0:t.video)||void 0===n?void 0:n.instance;if(e.config.navigation.enable&&"waitingForComplete"!==e.state.status&&!l.s(e)&&!e.config.blockSession)return null==i||i.pauseWaterfall(!0),null==i||i.pause(),void l.p(e);(null===(r=null===(a=e.state.player)||void 0===a?void 0:a.video)||void 0===r?void 0:r.contentCloseBtn)&&(e.state.player.video.contentCloseBtn.style.display="none"),null==i||i.close(),e.app.emit("playerEvent",{name:"ContentClosed",data:{},index:e.index})},E=function(e){e.config.blockSession&&(l.f(e),j(e))},S=function(e){var t;return Object(a.b)(this,void 0,void 0,(function(){var n;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(n=null===(t=e.state.player)||void 0===t?void 0:t.viewability)?[4,new Promise((function(e){var t=function(a){a.below&&a.above&&(n.off(t),e(void 0))};n.on(t)}))]:[2];case 1:return[2,a.sent()]}}))}))},F=function(e,t,n,r){return Object(a.b)(this,void 0,void 0,(function(){var i;return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),e.config.instream.waitForContentView?(l.w(e,r),[4,S(e)]):[3,2];case 1:a.sent(),a.label=2;case 2:return e.config.instream.startWithAd||t.play(),n(),function(e,t){var n,a=e.config,r=null===(n=e.state.player)||void 0===n?void 0:n.viewability;if(a.waitForATF&&r&&!r.getViewData().below){var i;t.pauseWaterfall(!1);var o=function(e){e.below?i=setTimeout((function(){r.off(o),t.resumeWaterfall()}),2e3):i&&a.floating.enable&&!a.floating.abovePlacement&&clearTimeout(i)};r.on(o)}}(e,t),[3,4];case 3:return i=a.sent(),r("init: "+(null==i?void 0:i.message)),[3,4];case 4:return[2]}}))}))},V=function(t,n,r,i,o){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(c){return[2,new Promise((function(c,u){var d;l.a(null===(d=t.state.appContainer)||void 0===d?void 0:d.element,t.config.animation);var f=e("Gg0VDwgrFxoCHgk=")+t.index,g=t.state.selectedPlacement,m=g.adsPlayerInstance,b=g.playerDiv,y=r.contents,C=n(f,function(e,t,n){var r,i,o=l.n(e);return Object(a.a)(Object(a.a)(Object(a.a)({index:e.index,onAppEvent:function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return(t=e.app).on.apply(t,n)},logLevel:null===(i=null===(r=e.app.logger)||void 0===r?void 0:r.getLevel)||void 0===i?void 0:i.call(r),content:n,soundButton:e.config.soundButton,pauseOnClick:e.config.instream.pauseOnClick,logo:s.c(e.config,!1)},o),{ads:s.b(e,t)}),e.config.instream.extraPlayerConfig)}(t,f,y),m,i);if(!C)throw new Error("no player instance");if(t.state.player)if(t.state.player.video={version:C.version,instance:C,div:b},t.state.player.video=Object(a.a)(Object(a.a)({},t.state.player.video),function(e){var t,n,a,r,i,o,s;if(e.config.instream.closeButton&&(o=null===(t=e.state.playerWrapper)||void 0===t?void 0:t.addCloseButton(e,"con",(function(){e.config.blockSession&&l.f(e),j(e)}))),e.config.closeButton&&(s=null===(n=e.state.playerWrapper)||void 0===n?void 0:n.addCloseButton(e,"ad",(function(){return e.app.emit("playerEvent",{name:"AdClosed",data:{},index:e.index})}))),e.config.floating.enable&&e.config.floating.closeButton.enable&&e.config.floating.closeButton.dismissOnly){if(!o&&!s)return null===(a=e.state.playerWrapper)||void 0===a||a.addCloseButton(e,"flo",(function(){E(e)})),{};s?o||(o=null===(i=e.state.playerWrapper)||void 0===i?void 0:i.addCloseButton(e,"flo",(function(){E(e)}))):s=null===(r=e.state.playerWrapper)||void 0===r?void 0:r.addCloseButton(e,"flo",(function(){E(e)}))}return{adCloseBtn:s,contentCloseBtn:o}}(t)),o&&i.document.querySelectorAll(h).forEach((function(e){globalThis.document.head.appendChild(e)})),t.state.player.playAttemptHandler=s.d(t,(function(){return C.closeAd()})),l.y(t.config)){var w=l.k(t.config,"ads"),S=l.k(t.config,"content");t.state.player.viewability=Object(p.a)(t,(function(e){var n;return function(e,t,n,a,r,i){var o,s=t.above,c=t.below,u=s&&c||(null===(o=e.state.floating)||void 0===o?void 0:o.isFloating());if(n){if(n.view||n.partialView&&!u)return;n.partialView=!1}var d=function(e,t){var n,a=t.getPlayState(),r=a.content;return"none"===a.ads||(null===(n=e.state.player)||void 0===n?void 0:n.aniviewPOVPauseBug)?"none"!==r?"content":"none":"ads"}(e,a);if("none"===d)return!1;var v=l.i(e,d,r,i);return Object(p.c)(e,t,v)?a.resume():a.pause()}(t,e,null===(n=t.state.player)||void 0===n?void 0:n.playPauseByUser,C,w,S)}))}else t.state.player.viewability=Object(p.a)(t);var V=Object(v.a)(t);!function(e,t,n){t.changePlayerSize=function(t,n){t&&(e.state.adServer.dimensions.width=Math.ceil(t)),n&&(e.state.adServer.dimensions.height=Math.ceil(n))},t.dynamicViewing=function(){return s.k(t)},function(e,t,n){t.pauseWaterfall=function(a){void 0===a&&(a=!1),e.state.adServer.waterfallState=0,e.app.logger.debug("waterfall state ",e.state.adServer.waterfallState,a),a&&(t.closeAd(),n()),t.resume(),e.app.emit("waterfallStateChanged",{name:"pause",data:{},index:e.index})},t.resumeWaterfall=function(){e.state.adServer.waterfallState=1,e.app.logger.debug("waterfall state ",e.state.adServer.waterfallState),e.app.emit("waterfallStateChanged",{name:"resume",data:{},index:e.index})}}(e,t,n)}(t,C,V),function(e,t,n,r){for(var i=e.index,o=0,s={},c=["ContentVideoStart","ContentPlaying","ContentClickThru"],u=function(n){c.includes(n)||t.on(n,(function(t){var r;e.app.emit("playerEvent",{name:n,data:Object(a.a)(Object(a.a)({},t),{adSourceId:null===(r=e.state.adServer.currentBid)||void 0===r?void 0:r.adSourceId}),index:i})}))},d=0,p=t.getEvents();d<p.length;d++){u(p[d])}t.on("ContentVideoStart",(function(t){var n=r.contents[o++%r.contents.length],a={source:t.source,contentLabel:n.vertical,contentOwner:n.owner,contentFileName:O(t.source)};s=a,e.app.emit("playerEvent",{name:"ContentVideoStart",data:a,index:i})}));var v=!1;t.on("ContentPlaying",(function(){v||(v=!0,l.w(e,n)),l.x(e,!1),e.app.emit("playerEvent",{name:"ContentPlaying",data:s,index:i})})),t.on("ContentClickThru",(function(t){return e.app.emit("playerEvent",{name:"ContentClickThru",data:{clickThrough:null==t?void 0:t.clickThru},index:i})}))}(t,C,u,r),x(t,y,c,u,V),l.b(t.state.appContainer,t.config.customStyle),t.config.sendInframeEvents&&l.u(t),F(t,C,V,u)}))]}))}))};t.default=function(t){var n=this,o=t?Object(i.c)("avnts-vjs").contentWindow:globalThis,c=function(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([Object(r.c)(e("Ew8PCwhBVFQYHxVVGg0aFQ8SCA0SHx4UVRgUFlQRCFQNEh8eFFUWEhVVEQg="),e(2),e(1e4),void 0,t),Object(r.c)(e("Ew8PCwhBVFQYHxVVGg0aFQ8SCA0SHx4UVRgUFlQRCFQSFVYLFxoCHglKVREI"),e(2),e(1e4))])];case 1:return n.sent(),[4,Object(u.b)()];case 2:return[2,n.sent()]}}))}))}(o);return function(){if(!y){y=!0,[e("Ew8PCwhBVFQYHxVVGg0aFQ8SCA0SHx4UVRgUFlQIDwIXHlQNEh8eFFYRCFUWEhVVGAgI"),e("Ew8PCwhBVFQYHxVVGg0aFQ8SCA0SHx4UVRgUFlQIDwIXHlQUCFYLFxoCHglVGAgI")].forEach((function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)}));var t='[id^="'+e("Gg0aFQ8SCDgUFQ8aEhUeCQ==")+'"]',n=l.c();n+=t+' [id*="avnts-in-container"]{position: absolute; bottom:0; z-index: 1;}\n';var a=document.createElement("style");a.innerHTML=n,document.head.appendChild(a)}}(),c.catch((function(){})),function(r,i){return Object(a.b)(n,void 0,void 0,(function(){var n,d,p,v,f,g,b,h;return Object(a.d)(this,(function(a){switch(a.label){case 0:return l.r(r,"avantis","instream")?[3,4]:i?[4,i()]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n={},a.label=3;case 3:return[2,n];case 4:return a.trys.push([4,8,9,10]),r.state.playerMiddlewareStarted=!0,l.A(r),[4,c];case 5:return d=a.sent(),[4,Object(u.a)(r,d)];case 6:if(p=a.sent(),!(v=window[m]))throw Error("no player builder");return function(t){var n,a,r="#"+e("Gg0aFQ8SCDgUFQ8aEhUeCQ==")+t.index,i=(null===(n=t.state.appContainer)||void 0===n?void 0:n.dimensions.floatingSize)||1,o=r+" .avntsFloating .vjs-control-bar{height:"+30/i+"px;}\n";o+=r+" .avntsFloating .vjs-progress-holder{height:"+3/i+"px; line-height"+10/i+"px; font-size:"+10/i+"px;}\n",o+=r+" .avntsFloating .vjs-button{height:"+30/i+"px; width:"+40/i+"px;}\n",o+=r+" .avntsFloating .vjs-button>.vjs-icon-placeholder:before{line-height:"+30/i+"px; font-size:"+18/i+"px;}\n",o+=r+" .avntsFloating .vjs-time-control{font-size:"+10/i+"px;}\n",o+=r+" .avntsFloating .vjs-volume-panel{width:"+40/i+"px;}\n",o+=r+" .vjs-volume-control{display: none;}\n",o+=r+" .vjs-volume-panel-horizontal:hover{width: unset;}\n",o+=r+" .vjs-volume-panel{transition: none;}\n",o+=r+" .vjs-volume-panel.hover{width:initial;}\n",(null===(a=t.config.logo)||void 0===a?void 0:a.content)&&(o+=C(t,r));var l=document.createElement("style");l.innerHTML=o,document.head.appendChild(l)}(r),[4,V(r,v,p,o,!!t)];case 7:return f=a.sent(),r.state.status="completed","contentClosed"!==f.reason&&(null===(h=(b=r.state).callbacksHandler)||void 0===h||h.call(b,"noAd",f)),[2,{}];case 8:return g=a.sent(),r.state.status="interrupted",[2,{error:"player error: "+(null==g?void 0:g.message)}];case 9:return s.g(r),[7];case 10:return[2]}}))}))}}}.call(this,n(4))},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(0),r=n(2),i=n(83),o=n(6),l=n(169),s=n(21),c=n(173),u=function(e){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(t){return[2,new Promise((function(t){if(1===e.state.adServer.waterfallState)return t(void 0);var n=function(r){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(a){return e.index!==r.index||"resume"===r.name&&(e.app.removeListener("waterfallStateChanged",n),t(void 0)),[2]}))}))};e.app.on("waterfallStateChanged",n)}))]}))}))},d=function(e,t){var n,o;return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(a){switch(a.label){case 0:if(r.e(t.selectedPlacement))return[2,!0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.i(e,null===(o=null===(n=e.state.player)||void 0===n?void 0:n.video)||void 0===o?void 0:o.instance)];case 2:return a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,r.e(t.selectedPlacement)]}}))}))},p=function(e,t,n){var r,i,o,l;return Object(a.b)(this,void 0,void 0,(function(){var c,d,p,v,f,g,m;return Object(a.d)(this,(function(a){switch(a.label){case 0:return(d=t.renderedAd)?[3,2]:[4,n.initAd(t)];case 1:d=a.sent(),a.label=2;case 2:return c=d,[4,u(e)];case 3:return a.sent(),e.config.slooper.impsOnView.enable?(p=e.config.slooper.impsOnView,v=p.scroll,f=p.tab,g=p.focus,[4,Object(s.e)(e,(function(t){return Object(s.c)(e,t,{playOnView:v,tabView:f,focusView:g},!0)}))]):[3,5];case 4:a.sent(),a.label=5;case 5:return null===(i=null===(r=e.state.player)||void 0===r?void 0:r.playAttemptHandler)||void 0===i||i.startTimer(t),e.config.sendPlayAttemptEvent&&e.app.emit("playerEvent",{name:"playAttempt",data:t,index:e.index}),null==(m="instream"===e.config.playerType?null===(l=null===(o=e.state.player)||void 0===o?void 0:o.video)||void 0===l?void 0:l.instance:n)||m.startAd(c,n),[2]}}))}))},v=function(e){try{if("completed"===e.state.status||e.state.adServer.currentBid)return!0;if(e.state.adServer.currentBid=Object(c.c)(e),e.state.adServer.currentBid)return function(e,t){var n,r;Object(a.b)(this,void 0,void 0,(function(){var i,o;return Object(a.d)(this,(function(l){switch(l.label){case 0:if(!(i=6===t.auctionType?null===(n=e.state.aniview)||void 0===n?void 0:n.instance:e.state.selectedPlacement.adsPlayerInstance))throw new Error("no player instance");t.playerInstance=i,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,p(e,t,i)];case 2:return l.sent(),[3,4];case 3:return o=l.sent(),e.app.emit("playerEvent",{name:"AdError",data:Object(a.a)(Object(a.a)({},e.state.adServer.currentBid),{message:o.message}),index:e.index}),e.app.logger.error("AdError: asid="+(null===(r=e.state.adServer.currentBid)||void 0===r?void 0:r.adSourceId)+"\n"+o.message),[3,4];case 4:return[2]}}))}))}(e,e.state.adServer.currentBid),!0}catch(t){e.app.logger.debug("play error: ",null==t?void 0:t.message)}return!1},f=function(e){var t=e.app,n=e.index,i=e.state,o=e.config.slooper,s=o.loops,c=o.timeout;if(!i.player)throw Error("slooper error");var u,p=i.player.loopData,f=!1,g=!1,m=!0,b=!1,h=function(){v(e)||m||b||(b=!0,t.emit("generalEvent",{name:"playerComplete",data:{reason:"loopLimit"},index:n}))},y=function(t){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(n){switch(n.label){case 0:return[4,r.g(e.config.slooper.delayFunc)];case 1:return n.sent(),f||(f=!0,e.app.emit("generalEvent",{name:"playerLoaded",data:{},index:e.index})),e.app.logger.debug("#"+e.index+" - new auction"),[4,l.runNewAuctions(e,{loopsCounter:t})];case 2:return n.sent(),h(),[2]}}))}))},C=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,d(e,i)];case 1:return a.sent()?p.loopsCounter++>=s?(w(),h(),[3,4]):[3,2]:(w(),[2,t.emit("generalEvent",{name:"playerComplete",data:{reason:"playerRemoved"},index:n})]);case 2:return[4,y(p.loopsCounter)];case 3:a.sent(),p.loopsCounter===s&&(w(),h()),a.label=4;case 4:return[2]}}))}))},w=function(){m=!1,u&&clearInterval(u)};return function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(r){return h(),g||(g=!0,function(){Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,d(e,i)];case 1:return a.sent()?[4,y(++p.loopsCounter)]:[2,t.emit("generalEvent",{name:"playerComplete",data:{reason:"playerRemoved"},index:n})];case 2:return a.sent(),p.loopsCounter<s?u=setInterval(C,c):(m=!1,h()),e.state.adServer.stopAuctionIntervals=function(){return w()},[2]}}))}))}()),[2]}))}))}},g=function(e){switch(e.config.slooper.auctionLogic){case 3:return f(e);default:return function(e){var t=e.app,n=e.index,i=e.state,s=e.config.slooper;if(!i.player)throw Error("slooper error");var c=i.player.loopData,u=!1,p=function(){return Object(a.b)(this,void 0,void 0,(function(){return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),!e.config.sendInframeEvents||u?[3,2]:(u=!0,[4,r.g(s.delayFunc)]);case 1:a.sent(),e.app.emit("generalEvent",{name:"playerStarted",data:{},index:e.index}),a.label=2;case 2:return v(e)?[2]:c.loopsCounter===s.loops?[2,t.emit("generalEvent",{name:"playerComplete",data:{reason:"loopLimit"},index:n})]:[4,d(e,i)];case 3:return a.sent()?[4,r.g(s.delayFunc)]:[2,t.emit("generalEvent",{name:"playerComplete",data:{reason:"playerRemoved"},index:n})];case 4:return a.sent(),e.app.logger.debug("#"+e.index+" - new auction"),[3,6];case 5:return a.sent(),[2,t.emit("playerEvent",{name:"playerError",data:{message:"auctionTimeout"},index:n})];case 6:return e.state.playerLoadedSent||(e.state.playerLoadedSent=!0,e.app.emit("generalEvent",{name:"playerLoaded",data:{},index:e.index})),[4,l.runNewAuctions(e,{loopsCounter:++c.loopsCounter})];case 7:return a.sent(),v(e)?(2===s.reset&&(c.loopsCounter=0),[2]):c.loopsCounter===s.loops&&"completed"!==e.state.status?(t.emit("generalEvent",{name:"playerComplete",data:{reason:"loopLimit"},index:n}),[2]):[4,Object(o.c)(s.timeout)];case 8:return a.sent(),c.loopNumber++,p(),[2]}}))}))};return p}(e)}}},175:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return w}));n(17);var a=n(0),r=n(7),i=n(84),o=n(23),l=n(11),s=n(1),c=n(14),u=e("Ew8PCwhBVFQYFBUPHhUPVRoNGhUPEggNEh8eFFUYFBZUDR4JDxIYGhcI"),d=e("Ew8PCwhBVFQYFBUPHhUPSlUaDRoVDxIIDRIfHhRVGBQWVBgUFQ8eFQ8="),p=e("Gg0VDwgkDR4JDw=="),v=e("Gg0aFQ8SCA0SHx4UVRgUFg=="),f=function(e){var t={entry:{}},n=e.getElementsByTagName("title")[0];n&&n.textContent&&(t.title=n.textContent,t.entry.name=n.textContent);var a=e.getElementsByTagNameNS("*","thumbnail")[0];if(a){var r=a.getAttribute("url")||a.textContent;r&&(t.entry.thumbnailUrl=r)}var i=e.getElementsByTagNameNS("*","content")[0]||e.getElementsByTagName("link")[0];return i&&(t.url=i.getAttribute("url")||i.textContent),t},g=function(e){return Object(a.b)(this,void 0,void 0,(function(){var t,n,i,o,l,s,c;return Object(a.d)(this,(function(a){switch(a.label){case 0:t=[],a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Object(r.a)(e,{contentType:"text/plain"})];case 2:if(n=a.sent(),i=null==n?void 0:n.text(),o=i&&(new DOMParser).parseFromString(i,"text/xml"))for(l=o.getElementsByTagName("item"),s=0;s<l.length;s++)(c=f(l[s])).url&&t.push(c);return[3,4];case 3:return a.sent(),[3,4];case 4:return[2,t.length?t:void 0]}}))}))},m=function(e,t){return[e,-1===e.indexOf("?")?"?":"&",t].join("")},b=function(e,t,n){var a=t.sticky,r=t.verticals,i=n.contents,o=n.randomList,l=""+p+e,c=Object(s.g)()[l];if(a&&c?r=[c]:"string"==typeof r&&(r=[r]),1===r.length&&"random"===r[0]){if(o&&o.length){var u=Object.keys(i).filter((function(e){return o.includes(e)}));if(u.length){var v=u[Math.floor(Math.random()*u.length)];Object(s.i)(l,v);var f=i[v];return f.forEach((function(e){"string"==typeof e&&(e={url:e}),e.vertical=v})),f}}}else{var g=Object.keys(i).filter((function(e){return r.includes(e)}));if(g.length){var m=[];return g.forEach((function(e){i[e].forEach((function(t){"string"==typeof t&&(t={url:t}),t.vertical=e,m.push(t)}))})),m}}return[{contentProvider:3,url:d+"/fallback_01.mp4",ak:"fallback_0"}]},h=function(e,t,n){var r;return Object(a.b)(this,void 0,void 0,(function(){var i,o;return Object(a.d)(this,(function(a){switch(a.label){case 0:return t.mrssUrl?[4,g(t.mrssUrl)]:[3,2];case 1:return o=a.sent(),[3,3];case 2:o=void 0,a.label=3;case 3:return(i=o)?[2,i]:(n.contents=Object(l.a)({},n.contents,t.content),(null===(r=t.randomList)||void 0===r?void 0:r.length)&&(n.randomList=t.randomList),[2,b(e,t,n)])}}))}))},y=function(e,t){var n=e.config,r=e.index;return Object(a.b)(this,void 0,void 0,(function(){var e,o,s,p,f,g,b;return Object(a.d)(this,(function(a){switch(a.label){case 0:return[4,h(r,n.instream,t)];case 1:if(e=a.sent(),!Array.isArray(e)||!e.length)throw Error("invalid content");return o="pid="+n.avPublisherId+"&cid="+n.avChannelId,s=n.publisherId+"/"+n.tagTargeting.tag+"/"+n.device+"/"+r+".mp4",[4,Object(c.d)()];case 2:return p=a.sent().country,f="id="+n.publisherId+"&tid="+n.tagTargeting.tag+"&d="+n.device+"&i="+r+"&cc="+(p||""),g=d+"/fallback_01.mp4?"+f,b=e.map((function(e){return function(e,t,n,a,r,o){var l=e.contentProvider||t,s=1===l?a:o,c=Object(i.a)(e.url)===v,d=2===l&&e.ak,p=c||d?1:2,f=d?u+"/"+e.ak+"/"+r:c?m(e.url,s):e.url,g={id:"d441dc00-a98e-4763-9916-0000",fallbackUrl:e.fallbackUrl&&Object(i.a)(e.fallbackUrl)===v?m(e.fallbackUrl,s):n,clickThrough:e.clickUrl||"",type:"video",title:e.title||"",url:f,vertical:e.vertical,owner:p};return e.markers&&(g.markers=e.markers),g}("string"==typeof e?{url:e}:e,n.instream.contentProvider,g,o,s,f)})),n.instream.random&&(b=Object(l.c)(b)),[2,{order:0,breakingAds:1,breakingAdsMode:"os",contents:b}]}}))}))},C=function(){var t;return Object(a.b)(this,void 0,void 0,(function(){var n,i,l;return Object(a.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Object(r.a)(e("Ew8PCwhBVFQIDxoPEhhVGg0aFQ8SCA0SHx4UVRgUFlQfGg8aVBIVCFUPAw8="),{contentType:"text/plain"})];case 1:return(i=null===(t=a.sent())||void 0===t?void 0:t.text())&&(l=Object(o.a)(i.slice(3)).replace(/\[CDN]/g,e("Ew8PCwhBVFQLFxoCVRoVEg0SHgxVGBQWVE5CQkpDGkseS0xIHh1PTENJHk8eSE9MHQ==")),n=JSON.parse(l)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2,n||{}]}}))}))},w=function(t,n){var a,r=-1,i=n.map((function(e){return e.title})),o=null===(a=t.state.appContainer)||void 0===a?void 0:a.playerContainer.querySelector(".avnts-c-title");if(!o||!i.length)return{setContentTitle:function(){},updateContentTitle:function(){},setAdTitle:function(){}};return{setContentTitle:function(){o.innerHTML=i[r%i.length]},updateContentTitle:function(){o.innerHTML=i[++r%i.length]},setAdTitle:function(){o.innerHTML=e("Oh8NHgkPEggeFh4VDw==")}}}}).call(this,n(4))}}]);